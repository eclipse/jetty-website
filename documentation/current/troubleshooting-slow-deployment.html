<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Troubleshooting Slow Deployment</title><link rel="stylesheet" type="text/css" href="css/docbook.css"><meta name="generator" content="DocBook XSL-NS Stylesheets V1.76.1"><meta name="keywords" content="jetty, servlet, servlet-api, cometd, http, websocket, eclipse, maven, java, server, software"><link rel="home" href="index.html" title="Jetty : The Definitive Reference"><link rel="up" href="troubleshooting.html" title="Chapter&nbsp;35.&nbsp;Troubleshooting"><link rel="prev" href="security-reports.html" title="Jetty Security Reports"><link xmlns:jfetch="java:org.eclipse.jetty.xslt.tools.JavaSourceFetchExtension" xmlns:fetch="java:org.eclipse.jetty.xslt.tools.SourceFetchExtension" xmlns:d="http://docbook.org/ns/docbook" xmlns:l="http://docbook.sourceforge.net/xmlns/l10n/1.0" xmlns:xslthl="http://xslthl.sf.net" xmlns:gcse="http://www.google.com" xmlns:date="http://exslt.org/dates-and-times" rel="shortcut icon" href="images/favicon.ico"><script type="text/javascript" src="js/shCore.js"></script><script type="text/javascript" src="js/shBrushJava.js"></script><script type="text/javascript" src="js/shBrushXml.js"></script><script type="text/javascript" src="js/shBrushBash.js"></script><script type="text/javascript" src="js/shBrushJScript.js"></script><script type="text/javascript" src="js/shBrushSql.js"></script><script type="text/javascript" src="js/shBrushProperties.js"></script><script type="text/javascript" src="js/shBrushPlain.js"></script><link type="text/css" rel="stylesheet" href="css/shCore.css"><link type="text/css" rel="stylesheet" href="css/shThemeEclipse.css"><link type="text/css" rel="stylesheet" href="css/font-awesome.min.css"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><table xmlns:jfetch="java:org.eclipse.jetty.xslt.tools.JavaSourceFetchExtension" xmlns:fetch="java:org.eclipse.jetty.xslt.tools.SourceFetchExtension" xmlns:d="http://docbook.org/ns/docbook" xmlns:l="http://docbook.sourceforge.net/xmlns/l10n/1.0" xmlns:xslthl="http://xslthl.sf.net" xmlns:gcse="http://www.google.com" xmlns:date="http://exslt.org/dates-and-times"><tr><td style="width: 25%"><a href="http://www.eclipse.org/jetty"><img src="images/jetty-header-logo.png" alt="Jetty Logo"></a><br><span style="font-size: small">
            Version: 9.3.1-SNAPSHOT</span></td><td style="width: 50%"><script type="text/javascript">  (function() {
            var cx = '016459005284625897022:obd4lsai2ds';
            var gcse = document.createElement('script');
            gcse.type = 'text/javascript';
            gcse.async = true;
            gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
            '//www.google.com/cse/cse.js?cx=' + cx;
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(gcse, s);
            })();
          </script><gcse:search></gcse:search></td></tr></table><div xmlns:jfetch="java:org.eclipse.jetty.xslt.tools.JavaSourceFetchExtension" xmlns:fetch="java:org.eclipse.jetty.xslt.tools.SourceFetchExtension" xmlns:d="http://docbook.org/ns/docbook" xmlns:l="http://docbook.sourceforge.net/xmlns/l10n/1.0" xmlns:xslthl="http://xslthl.sf.net" xmlns:gcse="http://www.google.com" xmlns:date="http://exslt.org/dates-and-times" class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Troubleshooting Slow Deployment</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="security-reports.html"><i class="icon-chevron-left"></i> Previous</a>&nbsp;</td><th width="60%" align="center">Chapter&nbsp;35.&nbsp;Troubleshooting<br><a accesskey="p" href="index.html"><i class="icon-home"></i> Home</a></th><td width="20%" align="right">&nbsp;</td></tr></table><hr></div><div xmlns:jfetch="java:org.eclipse.jetty.xslt.tools.JavaSourceFetchExtension" xmlns:fetch="java:org.eclipse.jetty.xslt.tools.SourceFetchExtension" xmlns:d="http://docbook.org/ns/docbook" xmlns:l="http://docbook.sourceforge.net/xmlns/l10n/1.0" xmlns:xslthl="http://xslthl.sf.net" xmlns:gcse="http://www.google.com" xmlns:date="http://exslt.org/dates-and-times" class="jetty-callout"><h5 class="callout"><a href="http://www.webtide.com/">Contact the core Jetty developers at
          <span class="website">www.webtide.com</span></a></h5><p>
 private support for your internal/customer projects ... custom extensions and distributions ... versioned snapshots for indefinite support ...
 scalability guidance for your apps and Ajax/Comet projects ... development services from 1 day to full product delivery
      </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="troubleshooting-slow-deployment"></a>Troubleshooting Slow Deployment</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="troubleshooting-slow-deployment.html#d0e27420">Remedies</a></span></dt></dl></div><p>After upgrading to a version of Jetty that supports Servlet Spec 3.0
  or above, enabling some new modules, or introducing some new jars to your
  webapp, you notice that your deployment time is increased. This could be due
  to scanning for classes caused by a ServletContainerInitializer.</p><p>As documented in the section on <a class="link" href="using-annotations.html" title="Working with Annotations">Using Annotations</a>, even if your webapp
  has set <code class="code">metadata-complete=true</code> in web.xml, all jars within your
  webapp may still be scanned due to one or more ServletContainerInitializers
  that have a <a class="link" href="http://docs.oracle.com/javaee/6/api/javax/servlet/annotation/HandlesTypes.html" target="_top">@HandlesTypes</a>
  annotation listing the names of classes in which it is interested.</p><p>There are 3 ways to speed up deployment time:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>limit which ServletContainerInitializers to include</p></li><li class="listitem"><p>limit which jars to scan</p></li><li class="listitem"><p>limit the scan to the first deployment only</p></li></ul></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="d0e27420"></a>Remedies</h3></div></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="d0e27423"></a>Limit Which ServletContainerInitializers to Execute</h4></div></div></div><p>As documented in the section <a class="link" href="using-annotations.html#excluding-scis" title="Excluding ServletContainerInitializers">Excluding ServletContainerInitializers</a>,
      you can provide a context attribute that defines a pattern of
      ServletContainerInitializer (SCI) class names to ignore. These SCIs will
      not be examined for <a class="link" href="http://docs.oracle.com/javaee/6/api/javax/servlet/annotation/HandlesTypes.html" target="_top">@HandlesTypes</a>
      and will not be executed. This is useful if you have included a 3rd
      party jar that has a SCI on which your code does not rely.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="d0e27434"></a>Limit Which Jars to Scan</h4></div></div></div><p>As documented in the section <a class="link" href="using-annotations.html#jars-scanned-for-annotations" title="Which Jars Are Scanned For Discovered Annotations">Jars Scanned for
      Annotations</a>, you can explicitly define which jars to include in
      the scanning process. This is helpful if you have a lot of jars in your
      webapp, and you know that they do not contain any classes referenced by
      an @HandlesTypes annotation on a ServletContainerInitializer that will
      be executed.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="d0e27442"></a>Limit Scanning to First Deployment Only (Quickstart)</h4></div></div></div><p>The <a class="link" href="quickstart-webapp.html" title="Quickstart Webapps">quickstart mechanism</a>
      will do a normal deployment - obeying any limits on SCIs and jars to
      scan as documented here - the first time the webapp is deployed only.
      Subsequent deployments will re-use the information discovered during the
      first deployment. This is useful if you cannot limit the scan
      significantly by using any of the mechanisms described here, but you
      don't want to incur the cost of scanning on every redeployment. The
      <a class="link" href="quickstart-webapp.html" title="Quickstart Webapps">quickstart mechanism</a> and how to
      use it is described <a class="link" href="quickstart-webapp.html" title="Quickstart Webapps">here</a>.
      </p></div></div></div><script type="text/javascript">
      SyntaxHighlighter.all()
    </script><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="security-reports.html"><i class="icon-chevron-left"></i> Previous</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="troubleshooting.html"><i class="icon-chevron-up"></i> Top</a></td><td width="40%" align="right">&nbsp;</td></tr><tr><td width="40%" align="left" valign="top">Jetty Security Reports&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html"><i class="icon-home"></i> Home</a></td><td width="40%" align="right" valign="top">&nbsp;</td></tr></table></div><p xmlns:jfetch="java:org.eclipse.jetty.xslt.tools.JavaSourceFetchExtension" xmlns:fetch="java:org.eclipse.jetty.xslt.tools.SourceFetchExtension" xmlns:d="http://docbook.org/ns/docbook" xmlns:l="http://docbook.sourceforge.net/xmlns/l10n/1.0" xmlns:xslthl="http://xslthl.sf.net" xmlns:gcse="http://www.google.com" xmlns:date="http://exslt.org/dates-and-times"><div class="jetty-callout">
            See an error or something missing?
            <span class="callout"><a href="http://github.com/jetty-project/jetty-documentation">Contribute to this documentation at
                <span class="website"><i class="icon-github"></i> Github!</span></a></span><span style="float: right"><i>(Generated: 2016-01-07T01:01:51+00:00)</i></span></div></p><script xmlns:jfetch="java:org.eclipse.jetty.xslt.tools.JavaSourceFetchExtension" xmlns:fetch="java:org.eclipse.jetty.xslt.tools.SourceFetchExtension" xmlns:d="http://docbook.org/ns/docbook" xmlns:l="http://docbook.sourceforge.net/xmlns/l10n/1.0" xmlns:xslthl="http://xslthl.sf.net" xmlns:gcse="http://www.google.com" xmlns:date="http://exslt.org/dates-and-times" type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-1149868-7']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
    </script></body></html>