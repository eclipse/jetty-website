<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (9) on Wed Mar 07 17:02:52 EST 2018 -->
<title>MongoSessionIdManager (Jetty :: Project 9.3.23.v20180228 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="date" content="2018-03-07">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../jquery/jquery-1.10.2.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="MongoSessionIdManager (Jetty :: Project 9.3.23.v20180228 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../";loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MongoSessionIdManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><script type="text/javascript">                     var _gaq = _gaq || [];                     _gaq.push(['_setAccount', 'UA-1149868-7']);                     _gaq.push(['_trackPageview']);                     (function() {                       var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;                       ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';                       var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);                     })();                  </script></div>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../org/eclipse/jetty/nosql/mongodb/MongoSessionIdManager.Purger.html" title="class in org.eclipse.jetty.nosql.mongodb"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/eclipse/jetty/nosql/mongodb/MongoSessionIdManager.html" target="_top">Frames</a></li>
<li><a href="MongoSessionIdManager.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><span>SEARCH:&nbsp;</span>
<input type="text" id="search" value=" " disabled="disabled">
<input type="reset" id="reset" value=" " disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="../../../../../org/eclipse/jetty/nosql/mongodb/package-summary.html">org.eclipse.jetty.nosql.mongodb</a></div>
<h2 title="Class MongoSessionIdManager" class="title">Class MongoSessionIdManager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../../../org/eclipse/jetty/util/component/AbstractLifeCycle.html" title="class in org.eclipse.jetty.util.component">org.eclipse.jetty.util.component.AbstractLifeCycle</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../../org/eclipse/jetty/server/session/AbstractSessionIdManager.html" title="class in org.eclipse.jetty.server.session">org.eclipse.jetty.server.session.AbstractSessionIdManager</a></li>
<li>
<ul class="inheritance">
<li>org.eclipse.jetty.nosql.mongodb.MongoSessionIdManager</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="../../../../../org/eclipse/jetty/server/SessionIdManager.html" title="interface in org.eclipse.jetty.server">SessionIdManager</a></code>, <code><a href="../../../../../org/eclipse/jetty/util/component/LifeCycle.html" title="interface in org.eclipse.jetty.util.component">LifeCycle</a></code></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">MongoSessionIdManager</span>
extends <a href="../../../../../org/eclipse/jetty/server/session/AbstractSessionIdManager.html" title="class in org.eclipse.jetty.server.session">AbstractSessionIdManager</a></pre>
<div class="block">Based partially on the JDBCSessionIdManager.
 <p>
 Theory is that we really only need the session id manager for the local 
 instance so we have something to scavenge on, namely the list of known ids
 <p>
 This class has a timer that runs a periodic scavenger thread to query
  for all id's known to this node whose precalculated expiry time has passed.
 <p>
 These found sessions are then run through the invalidateAll(id) method that 
 is a bit hinky but is supposed to notify all handlers this id is now DOA and 
 ought to be cleaned up.  this ought to result in a save operation on the session
 that will change the valid field to false (this conjecture is unvalidated atm)</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected class&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../../org/eclipse/jetty/nosql/mongodb/MongoSessionIdManager.Purger.html" title="class in org.eclipse.jetty.nosql.mongodb">MongoSessionIdManager.Purger</a></span></code></th>
<td class="colLast">
<div class="block">Purger</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected class&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../../org/eclipse/jetty/nosql/mongodb/MongoSessionIdManager.Scavenger.html" title="class in org.eclipse.jetty.nosql.mongodb">MongoSessionIdManager.Scavenger</a></span></code></th>
<td class="colLast">
<div class="block">Scavenger</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="nested.classes.inherited.from.class.org.eclipse.jetty.util.component.AbstractLifeCycle">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from class&nbsp;org.eclipse.jetty.util.component.<a href="../../../../../org/eclipse/jetty/util/component/AbstractLifeCycle.html" title="class in org.eclipse.jetty.util.component">AbstractLifeCycle</a></h3>
<code><a href="../../../../../org/eclipse/jetty/util/component/AbstractLifeCycle.AbstractLifeCycleListener.html" title="class in org.eclipse.jetty.util.component">AbstractLifeCycle.AbstractLifeCycleListener</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="nested.classes.inherited.from.class.org.eclipse.jetty.util.component.LifeCycle">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from interface&nbsp;org.eclipse.jetty.util.component.<a href="../../../../../org/eclipse/jetty/util/component/LifeCycle.html" title="interface in org.eclipse.jetty.util.component">LifeCycle</a></h3>
<code><a href="../../../../../org/eclipse/jetty/util/component/LifeCycle.Listener.html" title="interface in org.eclipse.jetty.util.component">LifeCycle.Listener</a></code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../../org/eclipse/jetty/nosql/mongodb/MongoSessionIdManager.html#Z:Z_ownScheduler">_ownScheduler</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../org/eclipse/jetty/util/thread/Scheduler.Task.html" title="interface in org.eclipse.jetty.util.thread">Scheduler.Task</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../../org/eclipse/jetty/nosql/mongodb/MongoSessionIdManager.html#Z:Z_purgerTask">_purgerTask</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../org/eclipse/jetty/util/thread/Scheduler.Task.html" title="interface in org.eclipse.jetty.util.thread">Scheduler.Task</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../../org/eclipse/jetty/nosql/mongodb/MongoSessionIdManager.html#Z:Z_scavengerTask">_scavengerTask</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../org/eclipse/jetty/util/thread/Scheduler.html" title="interface in org.eclipse.jetty.util.thread">Scheduler</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../../org/eclipse/jetty/nosql/mongodb/MongoSessionIdManager.html#Z:Z_scheduler">_scheduler</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../org/eclipse/jetty/server/Server.html" title="class in org.eclipse.jetty.server">Server</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../../org/eclipse/jetty/nosql/mongodb/MongoSessionIdManager.html#Z:Z_server">_server</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.util.Set&lt;java.lang.String&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../../org/eclipse/jetty/nosql/mongodb/MongoSessionIdManager.html#Z:Z_sessionsIds">_sessionsIds</a></span></code></th>
<td class="colLast">
<div class="block">the collection of session ids known to this manager</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.org.eclipse.jetty.util.component.AbstractLifeCycle">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;org.eclipse.jetty.util.component.<a href="../../../../../org/eclipse/jetty/util/component/AbstractLifeCycle.html" title="class in org.eclipse.jetty.util.component">AbstractLifeCycle</a></h3>
<code><a href="../../../../../org/eclipse/jetty/util/component/AbstractLifeCycle.html#FAILED">FAILED</a>, <a href="../../../../../org/eclipse/jetty/util/component/AbstractLifeCycle.html#RUNNING">RUNNING</a>, <a href="../../../../../org/eclipse/jetty/util/component/AbstractLifeCycle.html#STARTED">STARTED</a>, <a href="../../../../../org/eclipse/jetty/util/component/AbstractLifeCycle.html#STARTING">STARTING</a>, <a href="../../../../../org/eclipse/jetty/util/component/AbstractLifeCycle.html#STOP_ON_FAILURE">STOP_ON_FAILURE</a>, <a href="../../../../../org/eclipse/jetty/util/component/AbstractLifeCycle.html#STOPPED">STOPPED</a>, <a href="../../../../../org/eclipse/jetty/util/component/AbstractLifeCycle.html#STOPPING">STOPPING</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.org.eclipse.jetty.server.session.AbstractSessionIdManager">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;org.eclipse.jetty.server.session.<a href="../../../../../org/eclipse/jetty/server/session/AbstractSessionIdManager.html" title="class in org.eclipse.jetty.server.session">AbstractSessionIdManager</a></h3>
<code><a href="../../../../../org/eclipse/jetty/server/session/AbstractSessionIdManager.html#Z:Z_random">_random</a>, <a href="../../../../../org/eclipse/jetty/server/session/AbstractSessionIdManager.html#Z:Z_reseed">_reseed</a>, <a href="../../../../../org/eclipse/jetty/server/session/AbstractSessionIdManager.html#Z:Z_weakRandom">_weakRandom</a>, <a href="../../../../../org/eclipse/jetty/server/session/AbstractSessionIdManager.html#Z:Z_workerAttr">_workerAttr</a>, <a href="../../../../../org/eclipse/jetty/server/session/AbstractSessionIdManager.html#Z:Z_workerName">_workerName</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="../../../../../org/eclipse/jetty/nosql/mongodb/MongoSessionIdManager.html#MongoSessionIdManager-org.eclipse.jetty.server.Server-">MongoSessionIdManager</a></span>&#8203;(<a href="../../../../../org/eclipse/jetty/server/Server.html" title="class in org.eclipse.jetty.server">Server</a>&nbsp;server)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="../../../../../org/eclipse/jetty/nosql/mongodb/MongoSessionIdManager.html#MongoSessionIdManager-org.eclipse.jetty.server.Server-com.mongodb.DBCollection-">MongoSessionIdManager</a></span>&#8203;(<a href="../../../../../org/eclipse/jetty/server/Server.html" title="class in org.eclipse.jetty.server">Server</a>&nbsp;server,
                     com.mongodb.DBCollection&nbsp;sessions)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../../org/eclipse/jetty/nosql/mongodb/MongoSessionIdManager.html#addSession-javax.servlet.http.HttpSession-">addSession</a></span>&#8203;(javax.servlet.http.HttpSession&nbsp;session)</code></th>
<td class="colLast">
<div class="block">Add a session to the list of known sessions for a given ID.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../../org/eclipse/jetty/nosql/mongodb/MongoSessionIdManager.html#doStart--">doStart</a></span>&#8203;()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../../org/eclipse/jetty/nosql/mongodb/MongoSessionIdManager.html#doStop--">doStop</a></span>&#8203;()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../../org/eclipse/jetty/nosql/mongodb/MongoSessionIdManager.html#expireAll-java.lang.String-">expireAll</a></span>&#8203;(java.lang.String&nbsp;sessionId)</code></th>
<td class="colLast">
<div class="block">Expire this session for all contexts that are sharing the session 
 id.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../../org/eclipse/jetty/nosql/mongodb/MongoSessionIdManager.html#getPurgeInvalidAge--">getPurgeInvalidAge</a></span>&#8203;()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../../org/eclipse/jetty/nosql/mongodb/MongoSessionIdManager.html#getPurgeLimit--">getPurgeLimit</a></span>&#8203;()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../../org/eclipse/jetty/nosql/mongodb/MongoSessionIdManager.html#getPurgeValidAge--">getPurgeValidAge</a></span>&#8203;()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../../org/eclipse/jetty/nosql/mongodb/MongoSessionIdManager.html#getScavengeBlockSize--">getScavengeBlockSize</a></span>&#8203;()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>com.mongodb.DBCollection</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../../org/eclipse/jetty/nosql/mongodb/MongoSessionIdManager.html#getSessions--">getSessions</a></span>&#8203;()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../../org/eclipse/jetty/nosql/mongodb/MongoSessionIdManager.html#idInUse-java.lang.String-">idInUse</a></span>&#8203;(java.lang.String&nbsp;sessionId)</code></th>
<td class="colLast">
<div class="block">Searches database to find if the session id known to mongo, and is it valid</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../../org/eclipse/jetty/nosql/mongodb/MongoSessionIdManager.html#idle--">idle</a></span>&#8203;()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../../org/eclipse/jetty/nosql/mongodb/MongoSessionIdManager.html#invalidateAll-java.lang.String-">invalidateAll</a></span>&#8203;(java.lang.String&nbsp;sessionId)</code></th>
<td class="colLast">
<div class="block">Remove the session id from the list of in-use sessions.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../../org/eclipse/jetty/nosql/mongodb/MongoSessionIdManager.html#isPurgeEnabled--">isPurgeEnabled</a></span>&#8203;()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../../org/eclipse/jetty/nosql/mongodb/MongoSessionIdManager.html#purge--">purge</a></span>&#8203;()</code></th>
<td class="colLast">
<div class="block">Purge is a process that cleans the mongodb cluster of old sessions that are no
 longer valid.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../../org/eclipse/jetty/nosql/mongodb/MongoSessionIdManager.html#purgeFully--">purgeFully</a></span>&#8203;()</code></th>
<td class="colLast">
<div class="block">Purge is a process that cleans the mongodb cluster of old sessions that are no
 longer valid.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../../org/eclipse/jetty/nosql/mongodb/MongoSessionIdManager.html#removeSession-javax.servlet.http.HttpSession-">removeSession</a></span>&#8203;(javax.servlet.http.HttpSession&nbsp;session)</code></th>
<td class="colLast">
<div class="block">Remove session from the list of known sessions for a given ID.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../../org/eclipse/jetty/nosql/mongodb/MongoSessionIdManager.html#renewSessionId-java.lang.String-java.lang.String-javax.servlet.http.HttpServletRequest-">renewSessionId</a></span>&#8203;(java.lang.String&nbsp;oldClusterId,
              java.lang.String&nbsp;oldNodeId,
              javax.servlet.http.HttpServletRequest&nbsp;request)</code></th>
<td class="colLast">
<div class="block">Change the existing session id.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../../org/eclipse/jetty/nosql/mongodb/MongoSessionIdManager.html#scavenge--">scavenge</a></span>&#8203;()</code></th>
<td class="colLast">
<div class="block">Scavenge is a process that periodically checks the tracked session
 ids of this given instance of the session id manager to see if they 
 are past the point of expiration.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../../org/eclipse/jetty/nosql/mongodb/MongoSessionIdManager.html#scavengeBlock-long-java.util.Set-">scavengeBlock</a></span>&#8203;(long&nbsp;atTime,
             java.util.Set&lt;java.lang.String&gt;&nbsp;ids)</code></th>
<td class="colLast">
<div class="block">Check a block of session ids for expiry and thus scavenge.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../../org/eclipse/jetty/nosql/mongodb/MongoSessionIdManager.html#scavengeFully--">scavengeFully</a></span>&#8203;()</code></th>
<td class="colLast">
<div class="block">ScavengeFully will expire all sessions.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../../org/eclipse/jetty/nosql/mongodb/MongoSessionIdManager.html#setPurge-boolean-">setPurge</a></span>&#8203;(boolean&nbsp;purge)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../../org/eclipse/jetty/nosql/mongodb/MongoSessionIdManager.html#setPurgeDelay-long-">setPurgeDelay</a></span>&#8203;(long&nbsp;purgeDelay)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../../org/eclipse/jetty/nosql/mongodb/MongoSessionIdManager.html#setPurgeInvalidAge-long-">setPurgeInvalidAge</a></span>&#8203;(long&nbsp;purgeValidAge)</code></th>
<td class="colLast">
<div class="block">sets how old a session is to be persisted past the point it is
 no longer valid</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../../org/eclipse/jetty/nosql/mongodb/MongoSessionIdManager.html#setPurgeLimit-int-">setPurgeLimit</a></span>&#8203;(int&nbsp;purgeLimit)</code></th>
<td class="colLast">
<div class="block">The maximum number of items to return from a purge query.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../../org/eclipse/jetty/nosql/mongodb/MongoSessionIdManager.html#setPurgeValidAge-long-">setPurgeValidAge</a></span>&#8203;(long&nbsp;purgeValidAge)</code></th>
<td class="colLast">
<div class="block">sets how old a session is to be persist past the point it is 
 considered no longer viable and should be removed
 
 NOTE: set this value to 0 to disable purging of valid sessions</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../../org/eclipse/jetty/nosql/mongodb/MongoSessionIdManager.html#setScavengeBlockSize-int-">setScavengeBlockSize</a></span>&#8203;(int&nbsp;size)</code></th>
<td class="colLast">
<div class="block">When scavenging, the max number of session ids in the query.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../../org/eclipse/jetty/nosql/mongodb/MongoSessionIdManager.html#setScavengePeriod-long-">setScavengePeriod</a></span>&#8203;(long&nbsp;scavengePeriod)</code></th>
<td class="colLast">
<div class="block">The period in seconds between scavenge checks.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.eclipse.jetty.util.component.AbstractLifeCycle">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.eclipse.jetty.util.component.<a href="../../../../../org/eclipse/jetty/util/component/AbstractLifeCycle.html" title="class in org.eclipse.jetty.util.component">AbstractLifeCycle</a></h3>
<code><a href="../../../../../org/eclipse/jetty/util/component/AbstractLifeCycle.html#addLifeCycleListener-org.eclipse.jetty.util.component.LifeCycle.Listener-">addLifeCycleListener</a>, <a href="../../../../../org/eclipse/jetty/util/component/AbstractLifeCycle.html#getState--">getState</a>, <a href="../../../../../org/eclipse/jetty/util/component/AbstractLifeCycle.html#getState-org.eclipse.jetty.util.component.LifeCycle-">getState</a>, <a href="../../../../../org/eclipse/jetty/util/component/AbstractLifeCycle.html#getStopTimeout--">getStopTimeout</a>, <a href="../../../../../org/eclipse/jetty/util/component/AbstractLifeCycle.html#isFailed--">isFailed</a>, <a href="../../../../../org/eclipse/jetty/util/component/AbstractLifeCycle.html#isRunning--">isRunning</a>, <a href="../../../../../org/eclipse/jetty/util/component/AbstractLifeCycle.html#isStarted--">isStarted</a>, <a href="../../../../../org/eclipse/jetty/util/component/AbstractLifeCycle.html#isStarting--">isStarting</a>, <a href="../../../../../org/eclipse/jetty/util/component/AbstractLifeCycle.html#isStopped--">isStopped</a>, <a href="../../../../../org/eclipse/jetty/util/component/AbstractLifeCycle.html#isStopping--">isStopping</a>, <a href="../../../../../org/eclipse/jetty/util/component/AbstractLifeCycle.html#removeLifeCycleListener-org.eclipse.jetty.util.component.LifeCycle.Listener-">removeLifeCycleListener</a>, <a href="../../../../../org/eclipse/jetty/util/component/AbstractLifeCycle.html#setStopTimeout-long-">setStopTimeout</a>, <a href="../../../../../org/eclipse/jetty/util/component/AbstractLifeCycle.html#start--">start</a>, <a href="../../../../../org/eclipse/jetty/util/component/AbstractLifeCycle.html#stop--">stop</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.eclipse.jetty.server.session.AbstractSessionIdManager">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.eclipse.jetty.server.session.<a href="../../../../../org/eclipse/jetty/server/session/AbstractSessionIdManager.html" title="class in org.eclipse.jetty.server.session">AbstractSessionIdManager</a></h3>
<code><a href="../../../../../org/eclipse/jetty/server/session/AbstractSessionIdManager.html#getClusterId-java.lang.String-">getClusterId</a>, <a href="../../../../../org/eclipse/jetty/server/session/AbstractSessionIdManager.html#getNodeId-java.lang.String-javax.servlet.http.HttpServletRequest-">getNodeId</a>, <a href="../../../../../org/eclipse/jetty/server/session/AbstractSessionIdManager.html#getRandom--">getRandom</a>, <a href="../../../../../org/eclipse/jetty/server/session/AbstractSessionIdManager.html#getReseed--">getReseed</a>, <a href="../../../../../org/eclipse/jetty/server/session/AbstractSessionIdManager.html#getWorkerName--">getWorkerName</a>, <a href="../../../../../org/eclipse/jetty/server/session/AbstractSessionIdManager.html#initRandom--">initRandom</a>, <a href="../../../../../org/eclipse/jetty/server/session/AbstractSessionIdManager.html#newSessionId-long-">newSessionId</a>, <a href="../../../../../org/eclipse/jetty/server/session/AbstractSessionIdManager.html#newSessionId-javax.servlet.http.HttpServletRequest-long-">newSessionId</a>, <a href="../../../../../org/eclipse/jetty/server/session/AbstractSessionIdManager.html#setRandom-java.util.Random-">setRandom</a>, <a href="../../../../../org/eclipse/jetty/server/session/AbstractSessionIdManager.html#setReseed-long-">setReseed</a>, <a href="../../../../../org/eclipse/jetty/server/session/AbstractSessionIdManager.html#setWorkerName-java.lang.String-">setWorkerName</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.eclipse.jetty.util.component.LifeCycle">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.eclipse.jetty.util.component.<a href="../../../../../org/eclipse/jetty/util/component/LifeCycle.html" title="interface in org.eclipse.jetty.util.component">LifeCycle</a></h3>
<code><a href="../../../../../org/eclipse/jetty/util/component/LifeCycle.html#addLifeCycleListener-org.eclipse.jetty.util.component.LifeCycle.Listener-">addLifeCycleListener</a>, <a href="../../../../../org/eclipse/jetty/util/component/LifeCycle.html#isFailed--">isFailed</a>, <a href="../../../../../org/eclipse/jetty/util/component/LifeCycle.html#isRunning--">isRunning</a>, <a href="../../../../../org/eclipse/jetty/util/component/LifeCycle.html#isStarted--">isStarted</a>, <a href="../../../../../org/eclipse/jetty/util/component/LifeCycle.html#isStarting--">isStarting</a>, <a href="../../../../../org/eclipse/jetty/util/component/LifeCycle.html#isStopped--">isStopped</a>, <a href="../../../../../org/eclipse/jetty/util/component/LifeCycle.html#isStopping--">isStopping</a>, <a href="../../../../../org/eclipse/jetty/util/component/LifeCycle.html#removeLifeCycleListener-org.eclipse.jetty.util.component.LifeCycle.Listener-">removeLifeCycleListener</a>, <a href="../../../../../org/eclipse/jetty/util/component/LifeCycle.html#start--">start</a>, <a href="../../../../../org/eclipse/jetty/util/component/LifeCycle.html#stop--">stop</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="Z:Z_server">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_server</h4>
<pre>protected&nbsp;<a href="../../../../../org/eclipse/jetty/server/Server.html" title="class in org.eclipse.jetty.server">Server</a> _server</pre>
</li>
</ul>
<a name="Z:Z_scheduler">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_scheduler</h4>
<pre>protected&nbsp;<a href="../../../../../org/eclipse/jetty/util/thread/Scheduler.html" title="interface in org.eclipse.jetty.util.thread">Scheduler</a> _scheduler</pre>
</li>
</ul>
<a name="Z:Z_ownScheduler">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_ownScheduler</h4>
<pre>protected&nbsp;boolean _ownScheduler</pre>
</li>
</ul>
<a name="Z:Z_scavengerTask">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_scavengerTask</h4>
<pre>protected&nbsp;<a href="../../../../../org/eclipse/jetty/util/thread/Scheduler.Task.html" title="interface in org.eclipse.jetty.util.thread">Scheduler.Task</a> _scavengerTask</pre>
</li>
</ul>
<a name="Z:Z_purgerTask">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_purgerTask</h4>
<pre>protected&nbsp;<a href="../../../../../org/eclipse/jetty/util/thread/Scheduler.Task.html" title="interface in org.eclipse.jetty.util.thread">Scheduler.Task</a> _purgerTask</pre>
</li>
</ul>
<a name="Z:Z_sessionsIds">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>_sessionsIds</h4>
<pre>protected final&nbsp;java.util.Set&lt;java.lang.String&gt; _sessionsIds</pre>
<div class="block">the collection of session ids known to this manager</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="MongoSessionIdManager-org.eclipse.jetty.server.Server-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MongoSessionIdManager</h4>
<pre>public&nbsp;MongoSessionIdManager&#8203;(<a href="../../../../../org/eclipse/jetty/server/Server.html" title="class in org.eclipse.jetty.server">Server</a>&nbsp;server)
                      throws java.net.UnknownHostException,
                             com.mongodb.MongoException</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.net.UnknownHostException</code></dd>
<dd><code>com.mongodb.MongoException</code></dd>
</dl>
</li>
</ul>
<a name="MongoSessionIdManager-org.eclipse.jetty.server.Server-com.mongodb.DBCollection-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MongoSessionIdManager</h4>
<pre>public&nbsp;MongoSessionIdManager&#8203;(<a href="../../../../../org/eclipse/jetty/server/Server.html" title="class in org.eclipse.jetty.server">Server</a>&nbsp;server,
                             com.mongodb.DBCollection&nbsp;sessions)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="scavenge--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>scavenge</h4>
<pre>protected&nbsp;void&nbsp;scavenge&#8203;()</pre>
<div class="block">Scavenge is a process that periodically checks the tracked session
 ids of this given instance of the session id manager to see if they 
 are past the point of expiration.</div>
</li>
</ul>
<a name="scavengeBlock-long-java.util.Set-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>scavengeBlock</h4>
<pre>protected&nbsp;void&nbsp;scavengeBlock&#8203;(long&nbsp;atTime,
                             java.util.Set&lt;java.lang.String&gt;&nbsp;ids)</pre>
<div class="block">Check a block of session ids for expiry and thus scavenge.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>atTime</code> - purge at time</dd>
<dd><code>ids</code> - set of session ids</dd>
</dl>
</li>
</ul>
<a name="scavengeFully--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>scavengeFully</h4>
<pre>protected&nbsp;void&nbsp;scavengeFully&#8203;()</pre>
<div class="block">ScavengeFully will expire all sessions. In most circumstances
 you should never need to call this method.
 
 <b>USE WITH CAUTION</b></div>
</li>
</ul>
<a name="purge--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>purge</h4>
<pre>protected&nbsp;void&nbsp;purge&#8203;()</pre>
<div class="block">Purge is a process that cleans the mongodb cluster of old sessions that are no
 longer valid.
 
 There are two checks being done here:
 
  - if the accessed time is older than the current time minus the purge invalid age
    and it is no longer valid then remove that session
  - if the accessed time is older then the current time minus the purge valid age
    then we consider this a lost record and remove it
    
  NOTE: if your system supports long lived sessions then the purge valid age should be
  set to zero so the check is skipped.
  
  The second check was added to catch sessions that were being managed on machines 
  that might have crashed without marking their sessions as 'valid=false'</div>
</li>
</ul>
<a name="purgeFully--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>purgeFully</h4>
<pre>protected&nbsp;void&nbsp;purgeFully&#8203;()</pre>
<div class="block">Purge is a process that cleans the mongodb cluster of old sessions that are no
 longer valid.</div>
</li>
</ul>
<a name="getSessions--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSessions</h4>
<pre>public&nbsp;com.mongodb.DBCollection&nbsp;getSessions&#8203;()</pre>
</li>
</ul>
<a name="isPurgeEnabled--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isPurgeEnabled</h4>
<pre>public&nbsp;boolean&nbsp;isPurgeEnabled&#8203;()</pre>
</li>
</ul>
<a name="setPurge-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setPurge</h4>
<pre>public&nbsp;void&nbsp;setPurge&#8203;(boolean&nbsp;purge)</pre>
</li>
</ul>
<a name="setScavengePeriod-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setScavengePeriod</h4>
<pre>public&nbsp;void&nbsp;setScavengePeriod&#8203;(long&nbsp;scavengePeriod)</pre>
<div class="block">The period in seconds between scavenge checks.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>scavengePeriod</code> - the scavenge period in seconds</dd>
</dl>
</li>
</ul>
<a name="setScavengeBlockSize-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setScavengeBlockSize</h4>
<pre>public&nbsp;void&nbsp;setScavengeBlockSize&#8203;(int&nbsp;size)</pre>
<div class="block">When scavenging, the max number of session ids in the query.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>size</code> - the scavenge block size</dd>
</dl>
</li>
</ul>
<a name="getScavengeBlockSize--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getScavengeBlockSize</h4>
<pre>public&nbsp;int&nbsp;getScavengeBlockSize&#8203;()</pre>
</li>
</ul>
<a name="setPurgeLimit-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setPurgeLimit</h4>
<pre>public&nbsp;void&nbsp;setPurgeLimit&#8203;(int&nbsp;purgeLimit)</pre>
<div class="block">The maximum number of items to return from a purge query. If &lt;= 0 there is no limit. Defaults to 0</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>purgeLimit</code> - the purge limit</dd>
</dl>
</li>
</ul>
<a name="getPurgeLimit--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPurgeLimit</h4>
<pre>public&nbsp;int&nbsp;getPurgeLimit&#8203;()</pre>
</li>
</ul>
<a name="setPurgeDelay-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setPurgeDelay</h4>
<pre>public&nbsp;void&nbsp;setPurgeDelay&#8203;(long&nbsp;purgeDelay)</pre>
</li>
</ul>
<a name="getPurgeInvalidAge--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPurgeInvalidAge</h4>
<pre>public&nbsp;long&nbsp;getPurgeInvalidAge&#8203;()</pre>
</li>
</ul>
<a name="setPurgeInvalidAge-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setPurgeInvalidAge</h4>
<pre>public&nbsp;void&nbsp;setPurgeInvalidAge&#8203;(long&nbsp;purgeValidAge)</pre>
<div class="block">sets how old a session is to be persisted past the point it is
 no longer valid</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>purgeValidAge</code> - the purge valid age</dd>
</dl>
</li>
</ul>
<a name="getPurgeValidAge--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPurgeValidAge</h4>
<pre>public&nbsp;long&nbsp;getPurgeValidAge&#8203;()</pre>
</li>
</ul>
<a name="setPurgeValidAge-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setPurgeValidAge</h4>
<pre>public&nbsp;void&nbsp;setPurgeValidAge&#8203;(long&nbsp;purgeValidAge)</pre>
<div class="block">sets how old a session is to be persist past the point it is 
 considered no longer viable and should be removed
 
 NOTE: set this value to 0 to disable purging of valid sessions</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>purgeValidAge</code> - the purge valid age</dd>
</dl>
</li>
</ul>
<a name="doStart--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doStart</h4>
<pre>protected&nbsp;void&nbsp;doStart&#8203;()
                throws java.lang.Exception</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../../org/eclipse/jetty/server/session/AbstractSessionIdManager.html#doStart--">doStart</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../org/eclipse/jetty/server/session/AbstractSessionIdManager.html" title="class in org.eclipse.jetty.server.session">AbstractSessionIdManager</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd>
</dl>
</li>
</ul>
<a name="doStop--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doStop</h4>
<pre>protected&nbsp;void&nbsp;doStop&#8203;()
               throws java.lang.Exception</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../../org/eclipse/jetty/server/session/AbstractSessionIdManager.html#doStop--">doStop</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../org/eclipse/jetty/server/session/AbstractSessionIdManager.html" title="class in org.eclipse.jetty.server.session">AbstractSessionIdManager</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd>
</dl>
</li>
</ul>
<a name="idInUse-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>idInUse</h4>
<pre>public&nbsp;boolean&nbsp;idInUse&#8203;(java.lang.String&nbsp;sessionId)</pre>
<div class="block">Searches database to find if the session id known to mongo, and is it valid</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sessionId</code> - The session ID without any cluster node extension</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>True if the session ID is in use by at least one context.</dd>
</dl>
</li>
</ul>
<a name="addSession-javax.servlet.http.HttpSession-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addSession</h4>
<pre>public&nbsp;void&nbsp;addSession&#8203;(javax.servlet.http.HttpSession&nbsp;session)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../org/eclipse/jetty/server/SessionIdManager.html#addSession-javax.servlet.http.HttpSession-">SessionIdManager</a></code></span></div>
<div class="block">Add a session to the list of known sessions for a given ID.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>session</code> - The session</dd>
</dl>
</li>
</ul>
<a name="removeSession-javax.servlet.http.HttpSession-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeSession</h4>
<pre>public&nbsp;void&nbsp;removeSession&#8203;(javax.servlet.http.HttpSession&nbsp;session)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../org/eclipse/jetty/server/SessionIdManager.html#removeSession-javax.servlet.http.HttpSession-">SessionIdManager</a></code></span></div>
<div class="block">Remove session from the list of known sessions for a given ID.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>session</code> - the session to remove</dd>
</dl>
</li>
</ul>
<a name="invalidateAll-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>invalidateAll</h4>
<pre>public&nbsp;void&nbsp;invalidateAll&#8203;(java.lang.String&nbsp;sessionId)</pre>
<div class="block">Remove the session id from the list of in-use sessions.
 Inform all other known contexts that sessions with the same id should be
 invalidated.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sessionId</code> - The session ID without any cluster node extension</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../org/eclipse/jetty/server/SessionIdManager.html#invalidateAll-java.lang.String-"><code>SessionIdManager.invalidateAll(java.lang.String)</code></a></dd>
</dl>
</li>
</ul>
<a name="expireAll-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>expireAll</h4>
<pre>public&nbsp;void&nbsp;expireAll&#8203;(java.lang.String&nbsp;sessionId)</pre>
<div class="block">Expire this session for all contexts that are sharing the session 
 id.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sessionId</code> - the session id</dd>
</dl>
</li>
</ul>
<a name="idle--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>idle</h4>
<pre>public&nbsp;void&nbsp;idle&#8203;()</pre>
</li>
</ul>
<a name="renewSessionId-java.lang.String-java.lang.String-javax.servlet.http.HttpServletRequest-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>renewSessionId</h4>
<pre>public&nbsp;void&nbsp;renewSessionId&#8203;(java.lang.String&nbsp;oldClusterId,
                           java.lang.String&nbsp;oldNodeId,
                           javax.servlet.http.HttpServletRequest&nbsp;request)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../org/eclipse/jetty/server/SessionIdManager.html#renewSessionId-java.lang.String-java.lang.String-javax.servlet.http.HttpServletRequest-">SessionIdManager</a></code></span></div>
<div class="block">Change the existing session id.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/eclipse/jetty/server/SessionIdManager.html#renewSessionId-java.lang.String-java.lang.String-javax.servlet.http.HttpServletRequest-">renewSessionId</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/eclipse/jetty/server/SessionIdManager.html" title="interface in org.eclipse.jetty.server">SessionIdManager</a></code></dd>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/eclipse/jetty/server/session/AbstractSessionIdManager.html#renewSessionId-java.lang.String-java.lang.String-javax.servlet.http.HttpServletRequest-">renewSessionId</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../org/eclipse/jetty/server/session/AbstractSessionIdManager.html" title="class in org.eclipse.jetty.server.session">AbstractSessionIdManager</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>oldClusterId</code> - the old cluster id</dd>
<dd><code>oldNodeId</code> - the old node id</dd>
<dd><code>request</code> - the request containing the session</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MongoSessionIdManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><script type="text/javascript">                     var _gaq = _gaq || [];                     _gaq.push(['_setAccount', 'UA-1149868-7']);                     _gaq.push(['_trackPageview']);                     (function() {                       var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;                       ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';                       var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);                     })();                  </script></div>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../org/eclipse/jetty/nosql/mongodb/MongoSessionIdManager.Purger.html" title="class in org.eclipse.jetty.nosql.mongodb"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/eclipse/jetty/nosql/mongodb/MongoSessionIdManager.html" target="_top">Frames</a></li>
<li><a href="MongoSessionIdManager.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 1995&#x2013;2018 <a href="http://webtide.com">Webtide</a>. All rights reserved.</small></p>
</body>
</html>
